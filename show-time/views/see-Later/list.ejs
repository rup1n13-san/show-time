<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>My Draft Events</title>
  </head>
  <body class="bg-gray-100 p-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">
      My Events in Draft (See Later)
    </h1>

    <% if (drafts && drafts.length > 0) { %>

    <div
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
    >
      <% drafts.forEach(function(event) { %>

      <div
        class="bg-white rounded-lg shadow-lg overflow-hidden transition duration-300 hover:shadow-xl"
      >
        <img
          class="w-full h-48 object-cover"
          src="<%= event.event.imageUrls && event.event.imageUrls.length > 0 ? event.event.imageUrls[0] : '/assets/images/default-event.jpg' %>"
          alt="<%=event.title%> Image"
        />

        <div class="p-4">
          <h2 class="text-xl font-semibold text-gray-900 mb-2 truncate">
            <a href="" class="hover:text-indigo-600"> Title<%=event.event.title%></a>
          </h2>

          <p class="text-sm text-gray-600 mb-1">
            <span class="font-medium">Date:</span>
           <%= new Date(event.event.startDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) %>
          </p>
          <p class="text-sm text-gray-600 mb-4">
            <span class="font-medium">Location:</span>
            <%=event.event.location %>
          </p>

          <div class="flex justify-between items-center">
            <a
              href=""
              class="bg-indigo-600 text-white text-sm py-2 px-4 rounded-md hover:bg-indigo-700"
            >
              View Details
            </a>

            <form method="DELETE" action="/see-later/<%=event.id%>">
              <button
                type="submit"
                class="text-red-500 text-sm py-2 px-4 rounded-md hover:bg-red-50 focus:outline-none"
              >
                Remove
              </button>
            </form>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <% } else { %>
    <div class="text-center p-10 bg-white rounded-lg shadow">
      <p class="text-lg text-gray-500">
        You have no events saved in your Draft list.
      </p>
      <a href="" class="text-indigo-600 hover:text-indigo-800 mt-2 inline-block"
        >Explore Events</a
      >
    </div>
    <% } %>
  </body>
</html>
